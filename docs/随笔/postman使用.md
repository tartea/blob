作为一个后端的程序员，postman可能是工作中必不可少的一件工具了，但是相信很多的人都没有很好的将它的一些特性利用起来，那么接下来就由我简单的介绍一下如何使用postman。

一些入门的的功能这里就不再阐述了，这里主要介绍的是一些特性。

### Environments（环境）

postman中有一个概念叫环境，我们可以对一套需要测试的接口添加好几套环境，比如本地环境，测试环境，UAT环境等等。那么环境的作用是什么呢？我们可以在环境中添加一些参数，对这些参数添加一些默认值，然后在接口中引用该参数，这样我们可以做到在不同的环境中使用不同的参数值，就不用每一次调用都要去修改参数值了

![image-20220525105536854](https://images-1258301517.cos.ap-nanjing.myqcloud.com/images/image-20220525105536854.png)

#### 使用

![image-20220525105615369](https://images-1258301517.cos.ap-nanjing.myqcloud.com/images/image-20220525105615369.png)

以上面的图作为案例

新增一个本地环境，然后在环境中添加`Cookie iom-web`

![image-20220525105847483](https://images-1258301517.cos.ap-nanjing.myqcloud.com/images/image-20220525105847483.png)

新增一个接口，然后选中刚刚增加的本地环境，接口的地址前缀我们使用`{{iom-web}}`去代替，请求头中的Cookie使用``{{Cookie}}`来代替

这样做的好处是在一套环境中我们可以使用同样的Cookie和同样的请求前缀，保证统一，当我们切换环境的时候，那么相对应的请求前缀和请求头都可以变成对应的环境参数了，在实际使用中就不再需要针对每一套环境都写一套相同的接口了

### Pre-request Script(前置脚本)

postman可以写一些JS脚本来帮助我们初始化一些参数，这些脚本都放在下图指定的位置中

![image-20220525110455421](https://images-1258301517.cos.ap-nanjing.myqcloud.com/images/image-20220525110455421.png)

其实大多数人写脚本应该都是针对一个接口去写的，但是不排除有些脚本是针对一个文件夹中的所有接口都有效，那么这时候如果在每个接口中都写一遍是繁琐且麻烦的，这时候可以选中文件夹，然后编辑该文件夹，就可以看到也有一个Pre-request Script的文本框了，这时候应该懂的该如何做了吧

![image-20220525110754907](https://images-1258301517.cos.ap-nanjing.myqcloud.com/images/image-20220525110754907.png)

![image-20220525110830468](https://images-1258301517.cos.ap-nanjing.myqcloud.com/images/image-20220525110830468.png)

### Tests(后置脚本)

后置脚本其实后前置脚本没有什么区别，只是后置脚本主要是用来处理接口返回的信息的，我们可以对返回的消息进行一些处理，然后将这些信息进行存储或者传递给其他的接口



### 脚本

相信大多数的人应该都是会使用JS的，postman的脚本恰好就是使用的JS语法，这里主要是说一些参数的设置，我们使用JS脚本处理数据后需要将数据方法具体的环境中，这其中包含了global，environment，collection。

![image-20220525113110239](https://images-1258301517.cos.ap-nanjing.myqcloud.com/images/image-20220525113110239.png)

这里有API说明和使用方法，我们可以通过设置这些环境来实现我们的目的